<div class="box-header with-border"></div>
<form class="form-horizontal" [formGroup]="formModule">
    <div class="box-body">
      <div class="form-group" 
      [class.has-error]="formModule.get('stockName').touched && formModule.get('stockName').invalid">
        <label for="inputEmail3" class="col-sm-2 control-label">股票名称</label>

        <div class="col-sm-8">
          <input type="text" formControlName="stockName" class="form-control" id="inputEmail3">
        </div>
        <div class="col-sm-2" [class.hidden]="formModule.get('stockName').untouched || !formModule.hasError('required','stockName')">
          名称是必填项!
        </div>
        <div class="col-sm-2" [class.hidden]="formModule.get('stockName').untouched || !formModule.hasError('minlength','stockName')">
          名称不能少于4个字!
        </div>
      </div>
      <div class="form-group" [class.has-error]="formModule.get('stockPrice').touched && formModule.get('stockPrice').invalid">
        <label for="inputPassword3" class="col-sm-2 control-label">股票价格</label>

        <div class="col-sm-8">
          <input type="text" formControlName="stockPrice" class="form-control" id="inputPassword3">
        </div>
        <div class="col-sm-2" [class.hidden]="formModule.get('stockPrice').untouched  || !formModule.hasError('required','stockPrice')">
          名称是必填项!
        </div>
      </div>

      <div class="form-group">
        <label for="inputPassword3" class="col-sm-2 control-label">股票星级</label>
        <div class="col-sm-8">
          <app-stars [(rating)]="stock.rating" [readonly]="false"></app-stars>
        </div>
      </div>

      <div class="form-group">
        <label for="inputPassword3" class="col-sm-2 control-label">股票描述</label>
        <div class="col-sm-8">
          <textarea class="form-control" formControlName="stockDesc"  rows="3" placeholder="Enter ..."></textarea>
        </div>
      </div>

      <div class="form-group" [class.has-error]="formModule.get('categories').touched && formModule.hasError('catesSellectValidator','categories')">
        <label for="inputPassword3" class="col-sm-2 control-label">股票种类</label>
        <div class="col-sm-8" formArrayName="categories">
            <div class="checkbox col-sm-2" *ngFor="let cat of stockCategories;let i = index">
            <label>
                <input type="checkbox" formControlName="{{i}}">
                {{cat}}
            </label>
            </div>
            <div class="col-sm-4" style="margin-top: 7px" [class.hidden]="formModule.get('categories').untouched || !formModule.hasError('catesSellectValidator','categories')">
              股票种类至少勾选一个！
            </div>
        </div>
      </div>
    </div>
    <!-- /.box-body -->
    <div>
        <div class=" col-sm-2"></div>
        <div class="box-footer col-sm-8">
            <button class="btn btn-default" [routerLink]="['/stock']">取消</button>
            <button type="submit" [disabled]="!formModule.valid" (click)="save()" class="btn btn-info pull-right" [routerLink]="['/stock']">保存</button>
        </div>
    </div>
    <!-- /.box-footer -->
  </form>


